import{ai as R,a9 as L,aq as x,ar as z,e as B,as as I,at as S,aa as M,q as P,ao as _,u as $}from"./LKdiHx03.js";import{b as j}from"./BZvBLIDs.js";const G=()=>performance.now(),c={tick:r=>requestAnimationFrame(r),now:()=>G(),tasks:new Set};function q(){const r=c.now();c.tasks.forEach(t=>{t.c(r)||(c.tasks.delete(t),t.f())}),c.tasks.size!==0&&c.tick(q)}function K(r){let t;return c.tasks.size===0&&c.tick(q),{promise:new Promise(n=>{c.tasks.add(t={c:r,f:n})}),abort(){c.tasks.delete(t)}}}function A(r,t){S(()=>{r.dispatchEvent(new CustomEvent(t))})}function U(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function N(r){const t={},n=r.split(";");for(const a of n){const[s,o]=a.split(":");if(!s||o===void 0)break;const u=U(s.trim());t[u]=o.trim()}return t}const W=r=>r;function Q(r,t,n,a){var s=(r&I)!==0,o="in",u,E=t.inert,p=t.style.overflow,f,m;function w(){return S(()=>u??=n()(t,a?.()??{},{direction:o}))}var d={is_global:s,in(){t.inert=E,f?.abort(),A(t,"introstart"),f=O(t,w(),m,1,()=>{A(t,"introend"),f?.abort(),f=u=void 0,t.style.overflow=p})},out(l){{l?.(),u=void 0;return}},stop:()=>{f?.abort()}},v=R;if((v.transitions??=[]).push(d),j){var i=s;if(!i){for(var e=v.parent;e&&(e.f&L)!==0;)for(;(e=e.parent)&&(e.f&x)===0;);i=!e||(e.f&z)!==0}i&&B(()=>{$(()=>d.in())})}}function O(r,t,n,a,s){if(M(t)){var o,u=!1;return P(()=>{if(!u){var e=t({direction:"in"});o=O(r,e,n,a,s)}}),{abort:()=>{u=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(!t?.duration)return s(),{abort:_,deactivate:_,reset:_,t:()=>a};const{delay:E=0,css:p,tick:f,easing:m=W}=t;var w=[];if(f&&f(0,1),p){var d=N(p(0,1));w.push(d,d)}var v=()=>1-a,i=r.animate(w,{duration:E,fill:"forwards"});return i.onfinish=()=>{i.cancel();var e=1-a,l=a-e,h=t.duration*Math.abs(l),F=[];if(h>0){var T=!1;if(p)for(var g=Math.ceil(h/16.666666666666668),y=0;y<=g;y+=1){var C=e+l*m(y/g),b=N(p(C,1-C));F.push(b),T||=b.overflow==="hidden"}T&&(r.style.overflow="hidden"),v=()=>{var k=i.currentTime;return e+l*m(k/h)},f&&K(()=>{if(i.playState!=="running")return!1;var k=v();return f(k,1-k),!0})}i=r.animate(F,{duration:h,fill:"forwards"}),i.onfinish=()=>{v=()=>a,f?.(a,1-a),s()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=_)},deactivate:()=>{s=_},reset:()=>{},t:()=>v()}}const D=r=>r;function V(r,{delay:t=0,duration:n=400,easing:a=D}={}){const s=+getComputedStyle(r).opacity;return{delay:t,duration:n,easing:a,css:o=>`opacity: ${o*s}`}}export{V as f,Q as t};
